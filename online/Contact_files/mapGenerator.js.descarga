define(["jquery","common/geo/googleMaps","common/geo/getClosestGeoLocation"],function(o,n,t){function e(o){t.initMapsApi(o),i()}function i(){for(;C.length>0;)C.pop()()}function a(){return{center:new google.maps.LatLng(33.6744664,-112.1386465),zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},streetViewControl:!0,streetViewControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}}}function l(o){var n=p(o);this.marker=new google.maps.Marker({map:this.map,position:n})}function r(){this.map.controls[google.maps.ControlPosition.TOP_LEFT].push(s(this.address))}function s(n){var t=o("<div></div>",{text:n,css:{margin:"5px",padding:"10px",background:"white",color:"black",border:"1px solid black","line-height":"initial"}});return t.get(0)}function p(o){var n=parseFloat(o.lat()),t=parseFloat(o.lng());return new google.maps.LatLng(n,t)}function g(o){var n=p(o);this.map.setCenter(n)}function c(o,n){t.getCoordinates(o,n)}function u(o){return o.lat&&o.lng}function d(o){if(u(o)){var n=this;g.call(n,o),l.call(n,o),r.call(n)}}function f(o,n){w[o]=n}function m(o){return w[o]}function h(n,t,e){if(window.google){var i=o.extend({},a(),e||{}),l={map:new google.maps.Map(n,i),address:t,marker:null},r=m(t);r?d.call(l,r):c(t,function(o){d.call(l,o),f(t,o)})}else C.push(h.bind(null,n,t,e))}function M(){var o=n({loadUsingClient:!0});o.done(function(o){e(o)})}function v(o,t,i){var a=n({loadingMode:"publish",clientId:o,channel:t,googleMapBaseUrl:i});a.done(function(o){e(o)})}var C=[],w={};return{drawMap:h,runEditorMode:M,runPublishMode:v}});
//# sourceMappingURL=mapGenerator.js.map